<!--Standard Meta Data-->
<link rel="icon" type="image/png" href="/images/logo/profitproton-favicon.png" />
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!--Fonts-->
<!--<link rel="preload" href="/assets/fonts/poppins/Poppins-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Thin.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-ThinItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-ExtraLight.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-ExtraLightItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Light.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-LightItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-MediumItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-SemiBoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-BoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-ExtraBold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-ExtraBoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-Black.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/poppins/Poppins-BlackItalic.woff2" as="font" type="font/woff2" crossorigin>-->

<link rel="preload" href="/assets/fonts/dmsans/DMSans-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Thin.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-ThinItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-ExtraLight.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-ExtraLightItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Light.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-LightItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-MediumItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-SemiBoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-BoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-ExtraBold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-ExtraBoldItalic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-Black.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/assets/fonts/dmsans/DMSans-BlackItalic.woff2" as="font" type="font/woff2" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100;0,9..40,200;0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;0,9..40,900;0,9..40,1000;1,9..40,100;1,9..40,200;1,9..40,300;1,9..40,400;1,9..40,500;1,9..40,600;1,9..40,700;1,9..40,800;1,9..40,900;1,9..40,1000&display=swap" rel="stylesheet">

<!--Standard Styles-->
<link rel="stylesheet" href="/styles/feed.css">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/styles/pages.css">
<link rel="stylesheet" href="/styles/navigation.css">

<!--Standard Scripts-->
<?php require_once $_SERVER['DOCUMENT_ROOT'] . '/data/config.php'; ?>
<?php require_once $_SERVER['DOCUMENT_ROOT'] . '/data/img-att.php'; ?>

<script>
  if (location.hostname === "localhost") {
    var script = document.createElement("script");
    script.src = "https://code.jquery.com/jquery-3.6.0.min.js";
    script.onload = function() {
      // Your code that depends on jQuery goes here
      $(document).ready(function() {
        // Function to execute the AJAX request
        function checkFileContent() {
          $.ajax({
            url: '/readFile.php',
            type: 'GET',
            success: function(response) {
              var fileContent = response.trim();

              if (fileContent === 'ReloadBrowser') {
                fileContent = '';
                console.log('done');
                location.reload();
              }
            },
            error: function(xhr, status, error) {
              console.error(error);
            }
          });
        }

        // Run the initial check
        checkFileContent();

        // Set interval to check for updates every 5 seconds (adjust as needed)
        setInterval(checkFileContent, 500);
      });
    };
    document.head.appendChild(script);
  } else {
    // Your code that doesn't depend on jQuery goes here
    document.addEventListener("DOMContentLoaded", function() {
      // Function to execute the AJAX request
      function checkFileContent() {
        // Your AJAX request code here
      }

      // Run the initial check
      checkFileContent();

      // Set interval to check for updates every 5 seconds (adjust as needed)
      setInterval(checkFileContent, 500);
    });
  }
</script>

<script>
  function setDimensions() {
    var images = document.getElementsByTagName('img');

    for (var i = 0; i < images.length; i++) {
      var img = images[i];

      var tempImg = new Image();
      tempImg.src = img.src;

      tempImg.onload = (function(image) {
        return function() {
          image.setAttribute('width', this.width + 'px');
          image.setAttribute('height', this.height + 'px');
        };
      })(img);
    }
  }

  window.onload = setDimensions;
</script>



<script>
  function fadeOutElementsByClass(className) {
    var elements = document.getElementsByClassName(className);
    var duration = 200; // Duration of the fade-out animation in milliseconds
    var interval = 10; // Interval between opacity updates in milliseconds
    var opacityStep = 1 / (duration / interval); // Amount to reduce opacity in each interval

    var currentOpacity = 1;

    var fadeOutInterval = setInterval(function() {
      if (currentOpacity <= 0) {
        clearInterval(fadeOutInterval);
        // Once the animation is complete, hide the elements
        for (var i = 0; i < elements.length; i++) {
          elements[i].style.visibility = 'hidden';
        }
      } else {
        // Reduce the opacity and update the style
        currentOpacity -= opacityStep;
        for (var i = 0; i < elements.length; i++) {
          elements[i].style.opacity = currentOpacity;
        }
      }
    }, interval);
  }
</script>

<script>
  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')
    // Function to add ".php" to the href attribute of <a> tags
  function addPhpToLinks() {
    // Check if the website is running on localhost

    // Get all the <a> tags
    var links = document.getElementsByTagName('a');

    // Loop through each <a> tag
    for (var i = 0; i < links.length; i++) {
      // Get the href attribute
      var href = links[i].getAttribute('href');

      // Check if href is not empty and doesn't end with ".php"
      if (href && !href.endsWith('.php') && href != ("/") && href != ("")) {
        // Add ".php" to the href attribute value
        links[i].setAttribute('href', href + '.php');
      }
    }
  }

  // Add event listener to run the code when the page has loaded
  window.addEventListener('DOMContentLoaded', addPhpToLinks);
</script>

<script>
  function loadUpdatedResources() {
    fetch('https://api.github.com/repos/PolycatGames/ProfitProton/commits')
      .then(response => response.json())
      .then(data => {
        var latestCommit = data[0].sha; // Extract the latest commit hash

        // Cache-busting for stylesheets
        var styleLinks = document.querySelectorAll('link[rel="stylesheet"]');
        styleLinks.forEach(function(link) {
          var originalHref = link.getAttribute('href');
          var updatedHref = originalHref + '?v=' + latestCommit; // Add cache-busting parameter
          link.setAttribute('href', updatedHref);

          var preloadPromise = new Promise((resolve, reject) => {
            var preloadLink = document.createElement('link');
            preloadLink.setAttribute('rel', 'preload');
            preloadLink.setAttribute('as', 'style');
            preloadLink.setAttribute('href', updatedHref);
            preloadLink.addEventListener('load', resolve);
            preloadLink.addEventListener('error', reject);
            document.head.appendChild(preloadLink);
          });
        });

        // Cache-busting for fonts
        var fontLinks = document.querySelectorAll('link[as="font"]');
        var preloadPromises = [];

        fontLinks.forEach(function(link) {
          var originalHref = link.getAttribute('href');
          var updatedHref = originalHref + '?v=' + latestCommit; // Add cache-busting parameter
          link.setAttribute('href', updatedHref);
          

          var preloadPromise = new Promise((resolve, reject) => {
            var preloadLink = document.createElement('link');
            preloadLink.setAttribute('rel', 'preload');
            preloadLink.setAttribute('as', 'font');
            preloadLink.setAttribute('href', updatedHref);
            preloadLink.addEventListener('load', resolve);
            preloadLink.addEventListener('error', reject);
            document.head.appendChild(preloadLink);
          });

          preloadPromises.push(preloadPromise);
        });

        // Wait for all preload promises to resolve
        Promise.all(preloadPromises)
          .then(() => {
            console.log("All Fonts and Styles Loaded");
            fadeOutElementsByClass("whitescreen");
          })
          .catch(error => console.log(error));
      })
      .catch(error => {
        console.log(error);
        fadeOutElementsByClass("whitescreen");
      });
  }

  loadUpdatedResources();
</script>




<script>
  let burgerActivated = false;
  let sidebar;

  function setSidebar() {
    sidebar = document.querySelector(".sidebar");
    if (sidebar !== null) {
      sidebar.style.display = "none";
      console.log(sidebar + " found");
    } else {
      console.log(sidebar + " not found");
    }
  }

  function activateBurger() {
    if (burgerActivated == false) {
      sidebar.style.display = "flex";

      burgerActivated = true;
      console.log("inactive -> active")
    } else {
      deactivateBurger();
      console.log("active -> inactive")
    }
  }

  function deactivateBurger() {
    sidebar.style.display = "none";
    burgerActivated = false;
  }



  window.addEventListener('resize', () => {
    // Get the width of the window
    const windowWidth = window.innerWidth;

    // Do something with the width
    if (windowWidth > 760) {
      sidebar.style.display = "none";
      burgerActivated = false;
    }
  });
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CXQPHCFCPT"></script>
<script>
  if (location.hostname !== "localhost")

    window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'G-CXQPHCFCPT');
</script>

<!--Standard Elements-->
<style>
  .whitescreen {
    position: fixed;
    z-index: 9999;
    background-color: rgb(255, 255, 255);
    right: 0;
    bottom: 0;
    left: 0;
    top: 0;
  }
</style>
<div class="whitescreen"></div>